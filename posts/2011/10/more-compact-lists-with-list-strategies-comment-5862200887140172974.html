<html><body><p>Re list of floats-and-ints: a fully compatible way is to use the NaN-tagging idea from SpiderMonkey, i.e. have a special encoding of NaN that is normally not used, and that still leaves 32 bits of extra information.  We would then represent ints in the list as such a NaN-encoded float.  (At least it works as long as the integer is not too large, on 64-bit platforms.)</p></body></html>