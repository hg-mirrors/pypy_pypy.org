<html><body><p>@Winston: ok, I probably found out. Your reasoning is too simple because usually you do several lookups on the same object in a row. Every lookup looks first in the class, then in the instance. So it looks a bit like this:<br><br>lookup name1 in obj.__class__<br>lookup name1 in obj.__dict__<br>lookup name2 in obj.__class__<br>lookup name2 in obj.__dict__<br>lookup name2 in obj.__class__<br>lookup name2 in obj.__dict__<br><br>when using maps, every lookup in the dict is simply reading the map, promoting it and then a read. after the promotion of the map, the instance's layout is fully known. however, if type versions are disabled, the lookups in the class are complex operations that are opaque to the JIT. Therefore the JIT assumes they can change the layout and thus the map of the object.<br><br>If you also enable type versions, then the class lookups are understandable to the JIT. therefore the JIT can see that the class lookup didn't change the layout of the class. This means that after the first instance lookup, the following instance lookups cost nothing at all.</p></body></html>