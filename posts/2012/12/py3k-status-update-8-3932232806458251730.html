<html><body><p>This is the eight status update about our work on the <a class="reference external" href="https://bitbucket.org/pypy/pypy/commits/all/tip/branch%28%22py3k%22%29">py3k branch</a>, which<br>
we can work on thanks to all of the people who <a class="reference external" href="http://morepypy.blogspot.com/2012/01/py3k-and-numpy-first-stage-thanks-to.html">donated</a> to the <a class="reference external" href="http://pypy.org/py3donate.html">py3k<br>
proposal</a>.</p><p>Just a short update on November's work: we're now passing about 194 of<br>
approximately 355 modules of CPython's regression test suite, up from passing<br>
160 last month. Many test modules only fail a small number of individual tests<br>
now.</p><p>We'd like to thank Amaury Forgeot d'Arc for his contributions, in particular he<br>
has made significant progress on updating <a class="reference external" href="http://morepypy.blogspot.com/2010/04/using-cpython-extension-modules-with.html">CPyExt</a> for Python 3 this month.</p><p>Some other highlights:</p><ul class="simple"><li><tt class="docutils literal">test_marshal</tt> now passes, and there's been significant progress on<br>
pickling (thanks <a class="reference external" href="https://twitter.com/Joushou">Kenny Levinsen</a> and Amaury for implementing<br>
<tt class="docutils literal"><span class="pre">int.{to,from}_bytes</span></tt>)</li>
<li>We now have a <tt class="docutils literal">_posixsubprocess</tt> module</li>
<li>More encoding related fixes, which affects many failing tests</li>
<li><tt class="docutils literal">_sre</tt> was updated and now <tt class="docutils literal">test_re</tt> almost passes</li>
<li>Exception behavior is almost complete per the Python 3 specs, what's mostly<br>
missing now are the new <tt class="docutils literal">__context__</tt> and <tt class="docutils literal">__traceback__</tt> attributes (<a class="reference external" href="http://www.python.org/dev/peps/pep-3134/">PEP<br>
3134</a>)</li>
<li>Fixed some crashes and deadlocks occurring during the regression tests</li>
<li>We merged the <a class="reference external" href="https://bitbucket.org/pypy/pypy/commits/all/tip/branch%28%22unicode-strategies%22%29">unicode-strategies</a> branch both to default and to py3k: now we<br>
have versions of lists, dictionaries and sets specialized for unicode<br>
elements, as we already had for strings.</li>
<li>However, for string-specialized containers are still faster in some cases<br>
because there are shortcuts which have not been implemented for unicode yet<br>
(e.g., constructing a set of strings from a list of strings). The plan is to<br>
completely kill the shortcuts and improve the JIT to produce the fast<br>
version automatically for both the string and unicode versions, to have a<br>
more maintainable codebase without sacrificing the speed. The <a class="reference external" href="https://bitbucket.org/pypy/pypy/commits/all/tip/branch%28%22autoreds%22%29">autoreds</a><br>
branch (already merged) was a first step in this direction.</li>
</ul><p>cheers,<br>
Philip&amp;Antonio</p></body></html>