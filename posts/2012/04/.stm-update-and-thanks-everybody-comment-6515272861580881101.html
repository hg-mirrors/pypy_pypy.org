<html><body><p>Ah, you kinda contradicted yourself by saying the goal wasn't to expose STM to users' programs, but then saying that it exposed the same API as the transaction module.<br><br>The transaction module is pretty horrible though.  Might I suggest a better syntax than the transaction module?  Something like exceptions would be better:<br><br>begin:<br>    ...<br>    commit<br><br>or:<br><br>transaction:<br>    ...<br>rollback:<br>    retry<br><br>perhaps with an option (in a later  version?) to replace the "retry" with alternate code.</p></body></html>