<html><body><p>The goal is really not to expose STM to the user.  The pure Python transaction module is a working implementation, running on a single core but running.  The fact that pypy-stm provides an alternate implementation, based on STM and giving multi-core usage --- this is the implementation detail.<br><br>That's why it has the kind of API you see, and not some STM syntax like "begin: rollback: commit".  I also dislike custom keywords, because then we can no longer run the program on CPython or non-STM-based PyPys.  But I know I am no language designer myself, so the details are open for discussion.<br><br>Nick: thanks for the precisions.  Note however that the transaction module is also meant to be used directly, e.g. in CPU-intensive computational programs that don't use any event framework, like I did in rpython/rtyper.py.</p></body></html>