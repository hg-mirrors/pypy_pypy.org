<html><body><p>You could try using StringIO instead of cStringIO. pypy can optimize that much better.<br><br>Hereâ€™s an adapted example:<br><br>------ ------ ------<br><br>import time, StringIO, cStringIO<br><br>def csio():<br> text = '1234567890' * 1024 * 256<br> sio = cStringIO.StringIO()<br> ts = time.time()<br> for ch in text: sio.write(ch)<br> print 'ts', time.time() - ts<br><br>def nsio():<br> text = '1234567890' * 1024 * 256<br> sio = StringIO.StringIO()<br> ts = time.time()<br> for ch in text: sio.write(ch)<br> print 'ts', time.time() - ts<br><br><br>print "cStringIO"<br>csio()<br>csio()<br>csio()<br><br>print "StringIO"<br>nsio()<br>nsio()<br>nsio()<br><br>------ ------ ------<br><br>Results for me with pypy 1.9:<br><br>$ python stringiotest.py <br>cStringIO<br>ts 0.636300086975<br>ts 0.63633108139<br>ts 0.636710882187<br>StringIO<br>ts 3.35502791405<br>ts 3.34557986259<br>ts 3.33949017525<br>$ bin/pypy stringiotest.py <br>cStringIO<br>ts 1.05391597748<br>ts 0.528824090958<br>ts 0.530929803848<br>StringIO<br>ts 0.359623908997<br>ts 0.277186870575<br>ts 0.273662090302</p></body></html>