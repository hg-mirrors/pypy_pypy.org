<html><body><p>@Reid:<br>I am glossing over the runtime overhead, because the JIT completely removes it, as it knows that the maps are immutable. So you only have a problem if you don't want a JIT, in which case maps indeed make some things a bit slower. Duplicating the information everywhere is possible, but I would like to avoid it (we had a prototype that did it, and it became messy quickly).<br><br>@Erez<br>There is no additional runtime overhead if you have the JIT â€“ in fact, things become faster, because the JIT can turn an attribute access into a array field read out of the storage array at a fixed offset.<br><br>@Anonymous<br>I have not presented any real-world benchmarks, because I actually did not get around to running them. Yes, I collected some and started writing a memory benchmark framework. But I didn't have time for a full analysis yet. I plan to do such an analysis hopefully soon.<br><br>Anyway, maps never make anything larger, so it is really just a matter of how many instances there are in practice. This will just depend on the benchmark.</p></body></html>