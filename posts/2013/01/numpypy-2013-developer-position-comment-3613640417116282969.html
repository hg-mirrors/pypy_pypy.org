<html><body><p>I am following each of your announcements with great interest.<br>JIT optimization of array manipulations would enormously benefit my daily work.<br><br>Even though I am trying hard to follow the discussion, I have difficulty understanding the issues at hand, and what numpypy is going to be when it is finished. <br><br>Probably I am not the only one, considering the sometimes controversial discussion.<br><br>My current understanding is this:<br>All python code in numpy will run much better under pypy.<br><br>The problem are the external libraries. Depending on the type, there will be different approaches.<br><br>I assume that you will re-write a large part of the c-part of numpy directly in python, and then make use of the JIT optimizer. That would be the approach for all of the algorithms that are currently written in c, but could be easily re-implemented in python.<br>Something like ufunc_object.c could probably be rewritten in python without a loss of speed. <br>Of course, even though this would still run under normal python, it would be far to slow.<br><br>Then you have external dlls, like BLAS. I assume you will call them differently (ctypes?), and not as extension modules. If you use ctypes, it will still run under normal python, maybe a bit slower.<br><br>Then you have parts that are currently written in c, but that you can neither re-implement in python, nor call as a dll. Will you re-write those in c, using a different c-api? Or re-write them, so that they can be called using ctypes?<br><br><br>Maybe you give a short general overview about the issues with the c-api and what you are doing?<br><br>Something like. "Currently the function numpy.dot is written as a c-extension. It makes extensive use of PyArray_GETITEM. This limits the optimizer. We are therefore completely rewriting the function in python"<br><br>What is the best approach for a user like me, who makes heavy use of numpy, but also scipy and my own extension modules, cython and f2py?<br><br>Should I preferably write future modules as dlls, so that they can be called with ctypes (or cffi or something else), instead of making extension modules? <br><br>Do you think it will be possible at all to use scipy, which makes much more use of non-python libraries, or do you think that scipy will have to be re-written?</p></body></html>